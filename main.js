!function(e){function n(n){for(var a,i,s=n[0],l=n[1],c=n[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(n);m.length;)m.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],a=!0,s=1;s<t.length;s++){var l=t[s];0!==o[l]&&(a=!1)}a&&(r.splice(n--,1),e=i(i.s=t[0]))}return e}var a={},o={0:0},r=[];function i(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=a,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var u=l;r.push([25,1]),t()}([,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concatRegexesUnescaped=n.concatRegexes=void 0;const a=e=>(...n)=>{const t=n.map(n=>n instanceof RegExp?n.toString().replace(/^\/|\/[gi]*$/g,""):e(n)).join(""),a=n.map(e=>e instanceof RegExp&&e.flags).filter(Boolean).join(""),o=[...new Set(a)].join("");return new RegExp(t,o)};function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\n/g,"\\n")}n.concatRegexes=a(o),n.concatRegexesUnescaped=a(String)},,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wait=void 0,n.wait=function(e){return new Promise(n=>setTimeout(n,1e3*e))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getSpell=n.getSpells=n.SPELL_LEARN_ORDER=n.SPELLS_BY_TYPE=n.SPELL_NOT_POSSIBLE=n.SPELL_ALREADY_APPLIED=n.SPELL_FAILED=void 0;const a=t(34);n.SPELL_FAILED=["Algo te distrae y pierdes la concentracion.","Has perdido la concentracion.","Has tenido una laguna mental mientras invocabas el hechizo.","Pierdes la concentracion.","Un picor en la nariz te impide mantener la concentracion.","Un pinchazo en tu pierna te impide lanzar el conjuro adecuadamente.","Una mota de polvo en el ojo rompe tu concentracion por un momento."],n.SPELL_ALREADY_APPLIED=["Has fallado.","Eso no parece tener ningun efecto."],n.SPELL_NOT_POSSIBLE=["No esta aqui.","No tienes suficiente mana.","Sobre que quieres lanzar este conjuro?","No puedes encontrar ningun ","Este estilo de lucha pide demasiado atencion para hacer eso!","Este asalto del combate es demasiado febril para concentrarte adecuadamente.","No has tenido suficiente tiempo en este asalto para completar el conjuro.","Estas demasiado malherido para hacer eso.","Estas demasiado aturdido para hacer eso."],n.SPELLS_BY_TYPE={food:["crear baya","crear comida"],water:["crear manantial","crear agua"],levitate:["volar","flotar"],heal:["curar criticas","curar graves","curar leves"],attack:["causar critica","causar grave","causar leve"],dedope:["ceguera","veneno"]},n.SPELL_LEARN_ORDER=[n.SPELLS_BY_TYPE.food,n.SPELLS_BY_TYPE.water,n.SPELLS_BY_TYPE.dedope,"luz eterna","invisibilidad","invocar armadillo","armadura","bendecir","detectar escondido","detectar invisible","detectar magia",n.SPELLS_BY_TYPE.levitate,"curar ceguera",n.SPELLS_BY_TYPE.heal,"refrescar",n.SPELLS_BY_TYPE.attack,"crear fuego"],n.getSpells=function(){return r},n.getSpell=function(e){const n=e.toLowerCase(),t=a.spellList.find(e=>e.name.startsWith(n));return t&&{...t,...o[t.name]||{}}};const o={armadura:{success:"Tu armadura brilla suavemente al ser mejorada por un conjuro.",target:/La armadura de (?<target>(?:\w+ )+)brilla suavemente al ser mejorada por un conjuro\./,endEffect:"Tu armadura vuelve a su valor normal.",dope:!0},bendecir:{success:"Tu dios te otorga una poderosa bendicion.",endEffect:"La bendicion desaparece."},"causar critica":{success:/Tu conjuro [^\n]+ a( w+)+!/},"causar grave":{success:/Tu conjuro [^\n]+ a( w+)+!/},"causar leve":{success:/Tu conjuro [^\n]+ a( w+)+!/},ceguera:{success:/Lanzas un conjuro de ceguera contra ([^.]+)./},"crear agua":{success:" esta lleno.\n"},"crear comida":{success:"Una seta magica aparece de repente."},"crear fuego":{success:"Una gran hoguera se enciende en el suelo delante tuyo."},"crear manantial":{success:"Trazas un circulo delante tuyo del cual emerge un manantial de agua cristalina.",endEffect:"Un manantial magico se seca."},"curar graves":{success:"Tus heridas graves se cierran y el dolor desaparece."},"curar leves":{success:"Tus heridas leves se cierran y el dolor desaparece."},"detectar escondido":{success:"Tus sentidos cobran la viveza de los del mejor predador.",target:!1,endEffect:"Te sientes menos consciente de lo que te rodea.",dope:!0},"detectar invisible":{success:"Tus ojos brillan, siendo capaces ahora de ver lo invisible.",target:!1,endEffect:"Ya no ves objetos invisibles.",dope:!0},"detectar magia":{success:"Delgadas lineas azules reseguiran las siluetas de los objetos magicos que te encuentres.",target:!1,endEffect:"Las lineas azules desaparecen de tu vision",dope:!0},"detectar maldad":{success:"Delgadas lineas rojas reseguiran las siluetas de los seres malvados que te encuentres.",target:!1,endEffect:"Las lineas rojas desaparecen de tu vision.",dope:!0},"detectar trampas":{success:"De repente te sientes mas alerta de los peligros que te rodean.",target:!1,endEffect:"Te sientes menos alerta de los peligros que te rodean.",dope:!0},flotar:{success:"Empiezas a flotar a unos centimetros del suelo...",endEffect:"Tus pies aterrizan suavemente en el suelo.",dope:["volar","flotar"]},identificar:{success:/El objeto '(?<name>[^']+)' es un\(a\) (?<type>\w+), propiedades especiales: (?<properties>[^\n]+)\n/},invisibilidad:{success:"Te desvaneces en el aire.",target:/(?<target>(?:\w+ )+)se desvanece en el aire./,endEffect:"Ya no eres invisible.",dope:!0},"invocar armadillo":{success:"Agitas tus brazos a la vez que te concentras para invocar un pequenyo armadillo."},"luz eterna":{success:"Rayos de luz iridiscente colisionan para formar una bola de luz eterna...",endEffect:"Esta completamente oscuro ...",afterDope:["vestir luz","mirar"]},"piel robliza":{success:"Tu piel se oscurece a la vez que adquiere la dureza del roble.",target:!1,endEffect:"Tu piel vuelve a su estado normal...",dope:!0},refrescar:{success:"Nueva vitalidad fluye hacia ti."},volar:{success:"Te elevas entre las corrientes de aire...",target:/(?<target>(?:\w+ )+)se eleva entre las corrientes de aire.../,endEffect:"Aterrizas suavemente en el suelo.",dope:["volar","flotar"]}},r=a.spellList.map(e=>({...e,...o[e.name]||{}}))},function(e,n,t){"use strict";function a(e){return e.cloneNode(!0)}Object.defineProperty(n,"__esModule",{value:!0}),n.render=void 0,n.render=function(e,n){"string"==typeof e&&(e=function(e){const n=document.createElement("template");return n.innerHTML=e,n}(e));const t=e instanceof HTMLTemplateElement?a(e.content):a(e);if(n)for(const[e,a]of Object.entries(n)){const n=t.querySelector(e);n?a(n):console.error(`Selector ${e} returned no results`)}return Object.assign(t,{$:e=>t.querySelector(e)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.int=n.toInt=void 0;const a=t(3),o=/-?\d+(?:,\d{3})*/;n.toInt=function(e){return parseInt(e.replace(/,/g,""),10)},n.int=function(e){return e?a.concatRegexesUnescaped(`(?<${e}>`,o,")"):o}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getItemSustantive=n.ITEM_SUSTANTIVES=n.UNWEAR=n.WEAR=n.ITEM_ARTICLE=void 0;const a=t(3);n.ITEM_ARTICLE=/(?: (?:un|una|el|la|los|las|unos|unas))?/,n.WEAR=["Te colocas ","Te pones ","Metes las piernas ","Vistes "],n.UNWEAR=a.concatRegexes(/Dejas de usar/,n.ITEM_ARTICLE,/ (?<item>[^.]+?)\./),n.ITEM_SUSTANTIVES=["amuleto","anillo","anteojos","armadura","baculo","baston","bola","botas","brazal","brazalete","brazaletes","brigandina","capa","capote","casco","cetro","cinto","coderas","colgante","collar","coraza","cota","cubrepiernas","daga","escudo","espada","faja","faldones","grebas","guanteletes","guantes","hacha","lanza","luz","mangas","manoplas","martillo","maza","mocasines","pendiente","perneras","peto","pica","placa","polainas","pulsera","ropaje","sentido","sombrero","tobillera","vara","varita","visera","yelmo"],n.getItemSustantive=function(e){const t=e.toLowerCase(),a=n.ITEM_SUSTANTIVES.find(e=>t.includes(e));return a||(console.warn("Unknown item sustantive:",e),null)}},function(e,n,t){"use strict";var a=t(1),o=t.n(a),r=t(2),i=t.n(r)()(o.a);i.push([e.i,"body {\n  --background-color: #1c1c1c;\n  --border-color: #484848;\n  background-color: black;\n  color: white;\n}\n\n.container {\n  height: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'terminal';\n}\n\n.container.show-controls {\n  grid-template-rows: 50px auto;\n  grid-template-columns: 9fr 3fr;\n  grid-template-areas:\n    'controls sidebar'\n    'terminal sidebar';\n}\n\n.terminal {\n  grid-area: terminal;\n}\n\n.sidebar {\n  grid-area: sidebar;\n  background-color: var(--background-color);\n  border-left: 1px solid var(--border-color);\n}\n\n.controls {\n  grid-area: controls;\n  background-color: var(--background-color);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.container:not(.show-controls) .sidebar,\n.container:not(.show-controls) .controls {\n  display: none;\n}\n","",{version:3,sources:["webpack://src/ui/index.css"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,uBAAuB;EACvB,uBAAuB;EACvB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,0BAA0B;EAC1B,+BAA+B;AACjC;;AAEA;EACE,6BAA6B;EAC7B,8BAA8B;EAC9B;;sBAEoB;AACtB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,yCAAyC;EACzC,0CAA0C;AAC5C;;AAEA;EACE,mBAAmB;EACnB,yCAAyC;EACzC,4CAA4C;AAC9C;;AAEA;;EAEE,aAAa;AACf",sourcesContent:["body {\n  --background-color: #1c1c1c;\n  --border-color: #484848;\n  background-color: black;\n  color: white;\n}\n\n.container {\n  height: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'terminal';\n}\n\n.container.show-controls {\n  grid-template-rows: 50px auto;\n  grid-template-columns: 9fr 3fr;\n  grid-template-areas:\n    'controls sidebar'\n    'terminal sidebar';\n}\n\n.terminal {\n  grid-area: terminal;\n}\n\n.sidebar {\n  grid-area: sidebar;\n  background-color: var(--background-color);\n  border-left: 1px solid var(--border-color);\n}\n\n.controls {\n  grid-area: controls;\n  background-color: var(--background-color);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.container:not(.show-controls) .sidebar,\n.container:not(.show-controls) .controls {\n  display: none;\n}\n"],sourceRoot:""}]),n.a=i},function(e,n,t){"use strict";var a=t(1),o=t.n(a),r=t(2),i=t.n(r)()(o.a);i.push([e.i,".controls {\n  display: flex;\n  align-items: stretch;\n}\n\n.controls .meter {\n  width: 100px;\n  margin: 8px;\n  margin-right: 0;\n  border: 1px solid var(--border-color);\n  --color: white;\n  --value: 100%;\n}\n\n.controls .meter .bar {\n  height: 100%;\n  width: var(--value);\n  background-color: var(--color);\n}\n","",{version:3,sources:["webpack://src/ui/Controls/Controls.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,eAAe;EACf,qCAAqC;EACrC,cAAc;EACd,aAAa;AACf;;AAEA;EACE,YAAY;EACZ,mBAAmB;EACnB,8BAA8B;AAChC",sourcesContent:[".controls {\n  display: flex;\n  align-items: stretch;\n}\n\n.controls .meter {\n  width: 100px;\n  margin: 8px;\n  margin-right: 0;\n  border: 1px solid var(--border-color);\n  --color: white;\n  --value: 100%;\n}\n\n.controls .meter .bar {\n  height: 100%;\n  width: var(--value);\n  background-color: var(--color);\n}\n"],sourceRoot:""}]),n.a=i},function(e,n,t){"use strict";var a=t(1),o=t.n(a),r=t(2),i=t.n(r)()(o.a);i.push([e.i,".hamburger {\n  display: inline-block;\n  position: absolute;\n  top: 24px;\n  right: 40px;\n  z-index: 1;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.hamburger input {\n  display: block;\n  width: 40px;\n  height: 32px;\n  position: absolute;\n  top: -7px;\n  left: -5px;\n  cursor: pointer;\n  opacity: 0; /* hide this */\n  z-index: 2; /* and place it over the hamburger */\n  -webkit-touch-callout: none;\n}\n\n.hamburger span {\n  display: block;\n  width: 33px;\n  height: 4px;\n  margin-bottom: 5px;\n  position: relative;\n  background: #cdcdcd;\n  border-radius: 3px;\n  z-index: 1;\n  transform-origin: center right;\n  transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),\n    background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;\n}\n\n/*\n * Transform all the slices of hamburger\n * into a crossmark.\n */\n.hamburger input:checked ~ span:nth-of-type(2) {\n  opacity: 0;\n  transform: rotate(0deg) scale(0.2, 0.2);\n}\n\n.hamburger input:checked ~ span:first-of-type {\n  transform: rotate(-45deg) translate(0, -4px);\n}\n\n.hamburger input:checked ~ span:last-of-type {\n  transform: rotate(45deg) translate(0, 4px);\n}\n","",{version:3,sources:["webpack://src/ui/Hamburger/Hamburger.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,UAAU;EACV,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,eAAe;EACf,UAAU,EAAE,cAAc;EAC1B,UAAU,EAAE,oCAAoC;EAChD,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,mBAAmB;EACnB,kBAAkB;EAClB,UAAU;EACV,8BAA8B;EAC9B;wEACsE;AACxE;;AAEA;;;EAGE;AACF;EACE,UAAU;EACV,uCAAuC;AACzC;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,0CAA0C;AAC5C",sourcesContent:[".hamburger {\n  display: inline-block;\n  position: absolute;\n  top: 24px;\n  right: 40px;\n  z-index: 1;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.hamburger input {\n  display: block;\n  width: 40px;\n  height: 32px;\n  position: absolute;\n  top: -7px;\n  left: -5px;\n  cursor: pointer;\n  opacity: 0; /* hide this */\n  z-index: 2; /* and place it over the hamburger */\n  -webkit-touch-callout: none;\n}\n\n.hamburger span {\n  display: block;\n  width: 33px;\n  height: 4px;\n  margin-bottom: 5px;\n  position: relative;\n  background: #cdcdcd;\n  border-radius: 3px;\n  z-index: 1;\n  transform-origin: center right;\n  transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),\n    background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;\n}\n\n/*\n * Transform all the slices of hamburger\n * into a crossmark.\n */\n.hamburger input:checked ~ span:nth-of-type(2) {\n  opacity: 0;\n  transform: rotate(0deg) scale(0.2, 0.2);\n}\n\n.hamburger input:checked ~ span:first-of-type {\n  transform: rotate(-45deg) translate(0, -4px);\n}\n\n.hamburger input:checked ~ span:last-of-type {\n  transform: rotate(45deg) translate(0, 4px);\n}\n"],sourceRoot:""}]),n.a=i},function(e,n,t){"use strict";var a=t(1),o=t.n(a),r=t(2),i=t.n(r)()(o.a);i.push([e.i,".sidebar {\n}\n","",{version:3,sources:["webpack://src/ui/Sidebar/Sidebar.css"],names:[],mappings:"AAAA;AACA",sourcesContent:[".sidebar {\n}\n"],sourceRoot:""}]),n.a=i},function(e,n,t){"use strict";var a=t(1),o=t.n(a),r=t(2),i=t.n(r)()(o.a);i.push([e.i,".terminal {\n  grid-area: terminal;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n.terminal::-webkit-scrollbar {\n  display: none;\n}\n\n.terminal p {\n  margin: 1em 0;\n}\n\n.terminal input {\n  background-color: transparent;\n  border: none;\n  color: white;\n  display: inline-block;\n  font-family: monospace;\n  outline: none;\n}\n","",{version:3,sources:["webpack://src/ui/Terminal/Terminal.css"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,kBAAkB;EAClB,gBAAgB;EAChB,wBAAwB,EAAE,gBAAgB;EAC1C,qBAAqB,EAAE,YAAY;AACrC;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,6BAA6B;EAC7B,YAAY;EACZ,YAAY;EACZ,qBAAqB;EACrB,sBAAsB;EACtB,aAAa;AACf",sourcesContent:[".terminal {\n  grid-area: terminal;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n.terminal::-webkit-scrollbar {\n  display: none;\n}\n\n.terminal p {\n  margin: 1em 0;\n}\n\n.terminal input {\n  background-color: transparent;\n  border: none;\n  color: white;\n  display: inline-block;\n  font-family: monospace;\n  outline: none;\n}\n"],sourceRoot:""}]),n.a=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.singleExecution=void 0,n.singleExecution=function(e){let n=null;return()=>n||(n=e().then(e=>(n=null,e)),n)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PatternPromise=void 0;const a=t(6);n.PatternPromise=class extends Promise{constructor(e){let n;super((t,a)=>{n=a,e(t,a)}),this.forceReject=n}timeout(e){return super.catch(()=>{}),a.wait(e).then(()=>this.forceReject(new Error("Timeout: "+e))),this}wait(e){return Promise.race([this,a.wait(e)])}unsubscribe(){this.forceReject("aborted")}once(){return this}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promptPlugin=n.PROMPT_DETECTOR=void 0;const a=t(4),o=t(3),r=t(9),i=["&W<","&R%h/%Hhp ","&C%m/%Mm ","&G%v/%Vmv ","&P%Xxp ","&Y%gg","&W> ","&W%A ","\n"].join(""),s=i.replace("&W>"," &R%E&W>"),l=e=>o.concatRegexes(r.int(e+"Curr"),"/",r.int(e+"Total"),e+" ");n.PROMPT_DETECTOR=o.concatRegexes(/</,l("hp"),l("m"),l("mv"),r.int("exp"),/xp /,r.int("gold"),/g/,/( \((?<enemy>\d+)%\))?/,/> (?<invis>I)?/);class c{constructor(){this.total=0,this.current=0}get percent(){const e=this.total?1/this.total*this.current:0;return Math.round(100*e)/100}}n.promptPlugin=async function({when:e,write:t}){let o=!1;const l={hp:new c,mana:new c,mv:new c,exp:0,gold:0,enemy:null,get isFighting(){return null!==l.enemy}},u=a.emitter();return e(n.PROMPT_DETECTOR).timeout(1).catch((function(){t("prompt "+i),t("fprompt "+s)})).finally(()=>{e(n.PROMPT_DETECTOR,({groups:e})=>{l.hp.current=r.toInt(e.hpCurr),l.hp.total=r.toInt(e.hpTotal),l.mana.current=r.toInt(e.mCurr),l.mana.total=r.toInt(e.mTotal),l.mv.current=r.toInt(e.mvCurr),l.mv.total=r.toInt(e.mvTotal),l.exp=r.toInt(e.exp),l.gold=r.toInt(e.gold),l.enemy=e.enemy?r.toInt(e.enemy):null,o=Boolean(e.invis),u(l)})}),{getPercent:function(e){return l[e].percent},until:d,whenFresh:function(){return d(e=>(console.log(e.hp.percent,e.mana.percent,e.mv.percent,1===e.hp.percent&&1===e.mana.percent&&1===e.mv.percent),1===e.hp.percent&&1===e.mana.percent&&1===e.mv.percent))},onUpdate:u.subscribe,get isFighting(){return l.isFighting},get isInvisible(){return o}};function d(t){return t?!!t(l)||new Promise(e=>{const n=u.subscribe(a=>{t(a)&&(n(),e(a))})}):e(n.PROMPT_DETECTOR)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PluginContext=void 0;const a=t(20),o=t(6);class r{constructor(e,n,t,o){this.name=e,this.username=n,this.triggers=t,this.send=o,this.subscriptions=[],this.isPrintingLogs=!1,this.isAborted=!1,a.bindAll(this,r)}get printLogs(){return this.isPrintingLogs=!0,null}write(e,n){this.checkNotAborted(),this.log("[WRITE]",e),this.send(e,n)}when(e,n,t){this.checkNotAborted();const a=this.isPrintingLogs?({patterns:e,...n})=>this.log("[TRIGGERED]",...e,n):null;if("function"==typeof n){if(a){const e=n;n=n=>(a(n),e(n))}return this.triggers.add(e,n,t)}const o=this.triggers.add(e,n);return a&&o.then(a),o}sleep(e){return this.checkNotAborted(),this.log("[SLEEP]",e),o.wait(e)}abort(){this.isAborted=!0}dispose(){this.log("DISPOSE"),this.subscriptions.forEach(e=>e.unsubscribe())}log(...e){this.checkNotAborted(),this.isPrintingLogs&&console.log(`[${this.name}]`,...e)}checkNotAborted(){if(this.isAborted)throw new Error(`[${this.name}] Workflow aborted.`)}}n.PluginContext=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bindAll=void 0,n.bindAll=function(e,n){const t=n.prototype;Object.getOwnPropertyNames(t).filter(e=>"function"==typeof Object.getOwnPropertyDescriptor(t,e).value).forEach(n=>{e[n]=e[n].bind(e)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMobIn=n.getMobFromPresence=n.getMobsPresence=n.MOB_LEAVES=n.MOB_ARRIVES=void 0;const a=t(3),o=/(?:un|una|el|la|los|las|unos|unas)/,r=["armadillo"],i=Object.entries({Kivon:/Kivon, el l.der del culto, no est. nada contento con intromisiones\./,Nejane:/Nejane, la l.der, parece estar en trance\./,adorador:[/Un adorador mira con c.lera a su alrededor\./,/Un devoto adorador mira con c.lera a su alrededor\./],buitre:"Un buitre carronyero esta aqui.",caracol:"Un pequenyo caracol esta aqui haciendo trompos.",ciervo:null,conejo:null,cubo:"Un enorme cubo transparente de materia gelatinosa rezuma ante ti.",cultista:"Una joven cultista parece bastante serena, mientras no vea a nadie m",dragon:null,empleado:null,esqueleto:"El esqueleto hace castanyetear sus dientes amenazadoramente y se acerca!",fanatico:/Un humano pose.do por el fanatismo busca 'herejes'\./,hobgoblin:["un guardia hobgoblin de elite esta aqui profundamente dormido.",/Un guardian de la monta.a esta aqu., echando espuma por la boca\./,"Un macizo hobgoblin esta de guardia cerca del hueco de la escalera."],goblin:["Un habitante del bosque merodea por aqui, protegiendo su montanya.",/Un guardian de la monta.a esta aqu., echando espuma por la boca\./,"Un macizo chaman goblin esta aqui rugiendo a sus lacayos."],guardia:/Un Guardia Real est. aqu. velando por la seguridad del estadio/,jefe:"Un macizo chaman goblin esta aqui rugiendo a sus lacayos.",ladron:null,lobo:["Un lobo hambriento te esta mirando","Un lobo feroz esta aqui y grunye muy enojado.","Un gran lobo negro, te muestra los colmillos hambriento."],merodeador:null,murcielago:null,ogro:"el capitan ogro esta aqui profundamente dormido.",orco:["Un corpulento orco esta aqui de guardia.","Un orco esta de pie al lado de la ballesta.","El capitan orco te observa con sus ojos llenos de furia.","Un pequenyo orco se sienta en una de las sillas roncando.","Un sargento orco mantiene vigilada la chusma a la que comanda.","Un orco fuera de servicio esta sentado aqui jugando a los dados.","Un orco fuera de servicio esta sentado aqui jugando a las cartas.","El chaman esta sentado detras de un escritorio, escribiendo una misiva."],pantera:null,serpiente:"Una serpiente que parece venenosa te mira fijamente."}).map(([e,n])=>({name:e,presence:n}));n.MOB_ARRIVES=a.concatRegexes(o,/ (?<mob>(?: \w+)) llega desde el (?<direction>\w+)/),n.MOB_LEAVES=a.concatRegexes(o,/ (?<mob>(?: \w+)) (?:se va)|(?:vuela) hacia (?:el )?(?<direction>\w+)/),n.getMobsPresence=function(){return i.map(e=>e.presence).flat().filter(Boolean)},n.getMobFromPresence=function(e){return i.filter(e=>e.presence).find(({presence:n})=>Array.isArray(n)?e.some(e=>n.includes(e)):e.includes(n))},n.getMobIn=function(e){const n=e.toLowerCase();if(r.some(e=>n.includes(e)))return null;const t=i.find(e=>n.includes(e.name));return t||console.warn(`Unknown sustantive for "${e}"`),t}},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getAreaMetadata=n.getAreasForLevel=void 0;const o=a(t(58)),r=Object.values(o.default).flat(),i={"Academia de Darkhaven":{path:"rd",arena:["Xse","Xne","Xse","Xne","Xs"]},"Bosque de las Hadas":{path:"r6w2nwk2wh"},"Catacumbas de la Capilla":{path:"r6w8se7s"},"Cementerio Oscuro":{path:"r4s4ws"},"Ciudad Imperial":{path:"r8e2n4el3e2sj"},DarkHaven:{path:"r"},"El Campamento Goblin":{path:"r10s4en3e2n"},"El Cementerio":{path:"r6w8ses"},"El Centinela":{path:"r7ws"},"El Gran Estadio":{path:"r8e2n4el3e2s2jn",arena:"j"},"El Imperio Orco":{path:"r13s2wn",arena:["4ne2wen","dse2wese2wese2wese2weXnu","uXs","une2wene2weXs","une2wene2wenXsejk2whlen","u3ne2we2n"]},"El Jardin de los Heroes":{path:"r8e2n4el3e2s2j8l8e5j4els"},"El Pantano Orco":{path:"r13s2en"},"El Refugio Destruido":{path:"r8e2ne"},"Exportaciones de Dragones":{path:"r4sen"},"Foire de Reves":{path:"r8n3ene"},"Galeria de arte":{path:"r4swn"},"Guarderia Enana":{path:"r8ejs"},"Haon Dor":{path:"r7w"},"Holy Grove":{path:"r9e"},"La Fortaleza de Valor":{path:"r11n2en"},"La Mansion de Marmol":{path:"r9w3s",arena:["e2n","n2d","3n3s","3e3w","3s3n","2us","2e2w","4w4e"]},"La Mansion de Tullfuhrzky":{path:"r6w2nwk2wh4nj"},"La Torre del Brujo":{path:"r9w2sese2s"},"Las Alcantarillas":{path:"r4sd"},"Las Llanuras del Norte":{path:"r7n"},"Miden'nir":{path:"r7s"}};function s(e,n){return Math.abs(n-e.from+(n-e.to))}function l(e){return e.name in i?{...e,...i[e.name]}:e}n.getAreasForLevel=function(e){return o.default.Calimhar.filter(n=>n.from<=e&&n.to>=e).sort((n,t)=>s(n,e)-s(t,e)).map(l)},n.getAreaMetadata=function(e){const n=e.toLowerCase(),[t,...a]=r.filter(e=>e.name.toLocaleLowerCase().includes(n));return a.length&&console.warn(`Many areas detected for ${e}:\n- ${[t,...a].map(e=>e.name).join("\n- ")}`),t&&l(t)}},,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(4),o=t(26),r=t(43),i=t(44),s=t(63),l=t(85),c=t(86),u=t(87);const d="https://amatiasq.github.io"===location.origin?"wss://mudOS.amatiasq.com":"ws://localhost:"+u.DEFAULT_PORT,{host:m,port:p,user:h,pass:f}=function(){const{user:e,server:n}=c.getQueryParams(),[t,a]=n.split(":"),o=l.getPassword(e);return{host:t,port:parseInt(a,10),user:e,pass:o}}(),{terminal:g,controls:v}=s.renderUserInterface(document.body);!function(){const e=new WebSocket(d);e.addEventListener("open",()=>{const n=new r.RemoteTelnet(e);n.connect(m,p),g.write(`Connecting to ${m}:${p} as ${h}\n`),async function(e){const n=new o.Mud(e);function t(t){g.write(t+"\n"),n.userInput(t)&&e.send(t)}async function r(){const e=a.emitter();v.addMeter("red",e.subscribe);const t=a.emitter();v.addMeter("blue",t.subscribe);const o=a.emitter();v.addMeter("green",o.subscribe),n.getPlugin("prompt").onUpdate(n=>{e(n.hp.percent),t(n.mana.percent),o(n.mv.percent)})}function s(){v.addButton("Entrenar",()=>n.run("train"))}function l(e,t){const a=`"${e}" with "${t.join(" ")}"`;g.write(`-> Running ${a}\n`),n.run(e,t).then(e=>g.write(`\n<- Done ${a}: ${e}\n`),e=>g.write(`\n\n<! FAILED ${a}: ${e.message}\n\n`))}n.onCommand(e=>g.write(e+"\n")),e.onData(e=>g.write(e)),g.onSubmit(t),window.onbeforeunload=()=>{e.isConnected&&e.send("abandonar"),e.close()},n.registerHandler("!",e=>{const[n,...t]=e.split(/\s+/);l(n,t)}),n.registerHandler("#",e=>{const[a,o,r]=e.split(/#/).map(e=>e.trim()),i=`#${a}#`,s=()=>t(o);null!=r?n.daemon(i,({when:e,printLogs:n})=>e(a,s)):n.runOnce(i,({when:e,printLogs:n})=>e(a).then(s)),g.write(`WHEN: ${a}\nRUN: ${o}\n`)}),await n.login(h,f),i.registerWorkflows(n),await r(),s(),Object.assign(window,{mud:n})}(n)})}(),window.addEventListener("unhandledrejection",e=>{const n=e.reason;n.message.startsWith("Timeout: ")&&(e.preventDefault(),console.warn(n.message))})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Mud=void 0;const a=t(4),o=t(27),r=t(36),i=t(19),s=t(37),l=t(41),c=t(42);n.Mud=class{constructor(e){this.telnet=e,this.triggers=new s.TriggerCollection,this.workflows={},this.handlers=[],this.emitCommand=a.emitter(),this.onCommand=this.emitCommand.subscribe,this.whenLoggedIn=new Promise(e=>this.emitLoggedIn=e),this.workflow=this.workflow.bind(this),this.send=this.send.bind(this),this.run=this.run.bind(this),this.telnet.onData(e=>this.triggers.process(function(e){return e.replace(/\u001b\[.*?m/g,"")}(e).replace(/\r/g,"")))}async login(e,n){const t=new i.PluginContext("login","N/A",this.triggers,this.send);await r.login(t,e,n,async()=>{this.plugins=await o.initializePlugins(n=>new i.PluginContext(n,e,this.triggers,this.send))}),t.dispose(),this.username=e,this.emitLoggedIn(e)}send(e,n={}){this.emitCommand(n.password?"*".repeat(e.length):e),this.telnet.send(e)}userInput(e){const n=this.handlers.find(n=>e.startsWith(n.id));return Boolean(!n||n.handler(e.substr(n.id.length)))}registerHandler(e,n){this.handlers.push({id:e,handler:n})}getPlugin(e){return this.plugins[e]}daemon(e,n,t,a){const o=new c.Workflow(e,async e=>(await n(e),e.runForever()));return this.executeWorkflow(o,t,a)}workflow(e,n){const t=new c.Workflow(e,n);return this.workflows[t.name]=t,t}runOnce(e,n){return this.executeWorkflow(new c.Workflow(e,n))}run(e,n,t){if(!(e in this.workflows))throw new Error(`Workflow "${e}" is not registered.`);const a=this.workflows[e];return this.executeWorkflow(a,n,t)}executeWorkflow(e,n=[],{logs:t}={}){const a=this.createWorkflowContext(e.name);t&&a.printLogs;const o=e.execute(a,...n).then(e=>(a.dispose(),e));return Object.assign(o,{abort(){a.abort()}})}createWorkflowContext(e){return new l.Context(e,this.username,this.triggers,this.plugins,this.send,this.workflow,this.run)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initializePlugins=void 0;const a=t(28),o=t(31),r=t(32),i=t(18),s=t(33),l=t(35),c={chat:a.chatPlugin,inventory:o.inventoryPlugin,navigation:r.navigationPlugin,prompt:i.promptPlugin,skills:s.skillsPlugin,stats:l.statsPlugin};n.initializePlugins=async function(e){const n=Object.entries(c).map(async([n,t])=>[n,await t(e(n))]),t=await Promise.all(n);return Object.fromEntries(t)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.chatPlugin=void 0;const a=t(5),o=t(29),r=t(30),i={version:2},s=e=>({groups:{name:n,message:t}})=>{console.log(`MESSAGE => ${n} =>`,t),u(e,{from:n,message:t}),n.startsWith("[Orden")||c(`${n}: ${t}`)},l=e=>({groups:{name:n,message:t}})=>u(e,{to:n,message:t});async function c(e){return await r.requestNotificationPermission(),new Notification(e)}function u(e,n){const t=[o.datetime(new Date),n.from||"me",n.to||"me",n.message];return e.set([...e.get()||[],t]),t}n.chatPlugin=function({when:e}){const n=new a.ClientStorage("chat:order",i),t=new a.ClientStorage("chat:tell",i),o=new a.ClientStorage("chat:whisper",i);window.chat=()=>({tell:t.get(),order:n.get(),whisper:o.get()}),e(/(?<name>\[Orden: [^\]]+\]): '(?<message>[^']+)'/,s(n)),e(/(?<name>\[Orden\]): '(?<message>[^']+)'/,l(n)),e(/(?<name>.+) te susurra '(?<message>[^']+)'/,s(o)),e(/Susurras a (?<name>.+) '(?<message>[^']+)'/,l(o)),e([/(?<name>.+) te cuenta '(?<message>[^']+)'/,/(?<name>.+) te responde '(?<message>[^']+)'/],s(t)),e([/Cuentas a (?<name>.+) '(?<message>[^']+)'/,/Respondes a (?<name>.+) '(?<message>[^']+)'/],l(t)),e(/(?<name>\w+) te ha desafiado a un combate en la arena!/,({groups:e})=>c("[ARENA] w/ "+e.name))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.datetime=void 0;const a=e=>e<10?"0"+e:e;n.datetime=function(e){return`${e.getFullYear()}-${a(e.getMonth()+1)}-${a(e.getDate())} ${a(e.getHours())}:${a(e.getMinutes())}`}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.requestNotificationPermission=void 0,n.requestNotificationPermission=function(){if("Notification"in window){if("granted"===Notification.permission)return Promise.resolve(!0);if("denied"!==Notification.permission)return Notification.requestPermission().then(e=>"granted"===e)}else console.warn("This browser does not support desktop notification")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.inventoryPlugin=void 0;const a=t(16),o=/Estas llevando:(\n.*)+?\n\n/;n.inventoryPlugin=function({when:e,write:n}){let t=!1,r={};const i=a.singleExecution(async()=>{n("inventario"),await e(o)});return e("No tienes ese objeto.",i),e(o,({captured:e})=>{const[n,...a]=e[0].split("\n").map(e=>e.trim()).filter(Boolean);t=!0,r={};for(const e of a){if("Nada."===e)return;const n=e.match(/(.*) \((\d+)\)$/);n?r[n[1]]=parseInt(n[2],10):r[e]=1}},{captureLength:1e3}),{refresh:i,has:async function(e){t||await i();if("string"==typeof e)return s(e)?e:null;if(Array.isArray(e))return e.find(s)||null;const n=Object.keys(e).find(s);return n?e[n]:null}};function s(e){return r[e]}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.navigationPlugin=void 0;const a=t(4),o=t(17),r=t(18),i="(cerrada)",s={s:"sur",n:"norte",e:"este",w:"oeste",o:"oeste",u:"arriba",d:"abajo",l:"sureste",k:"suroeste",j:"noreste",h:"noroeste"};n.navigationPlugin=function({log:e,when:n,write:t}){let l=!1,c=!1,u=!1,d=[];const m=()=>n(r.PROMPT_DETECTOR),p=a.emitter();return n(/Plaza de Darkhaven\s+/,()=>c=!0),n(/Puertas? esta cerrada\./,async()=>{const e=d.find(e=>e.includes(i));if(e){const a=e.replace(i,"");t("abrir "+a);await Promise.any([n("Esta cerrada con llave.").then(()=>!1),n("Abres ").then(()=>!0)])&&t(a)}}),n(/\nSalidas: ([^\.]+)/,async({captured:e})=>{d=e[1].split(" "),l=!1,u=c,c=!1,await m(),p(d)}),{canGo:f,go:g,execute:async function(e,n){"r"===e[0]&&(await h(),e=e.substr(1));let t=!1;for(const n of(a=e,a.replace(/(\d+)(\w)/g,(e,n,t)=>t.repeat(n))))if("X"!==n.toUpperCase()){if(t){for(;f(n);)if(await o(n))return!1;t=!1}else if(await o(n))return!1}else t=!0;var a;return!0;async function o(t){try{if(!await g(t))return!0}catch(n){throw new Error(`${n.message} - on ${e}`)}if("function"==typeof n){return!1===await n()}}},recall:h,waitForRecall:function(){if(u)return new o.PatternPromise(e=>e());return n("Plaza de Darkhaven")},onRoomChange:p.subscribe,get isNavigating(){return l},get isAtRecall(){return u}};async function h(){if(u)return!0;t("recall"),await n("Plaza de Darkhaven"),await m()}function f(e){return Boolean(v(e))}async function g(a){if(l)throw new Error("WTF DUDE");const o=v(a);if(!o)throw new Error(`Unknown direction '${a}'`);if(function(e){const n=v(e);return n&&n.includes(i)}(a)){t("abrir "+a);if(!await Promise.any([n(/Abres la puertas?\./).then(()=>!0),n("Esta cerrada con llave.").then(()=>!1)]))return e("Can\t open door"),!1}return t(o.replace(i,"").trim()),l=!0,await n("\nSalidas:"),await m(),l=!1,!0}function v(e){return e in s&&(e=s[e]),d.find(n=>n.startsWith(e))}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skillsPlugin=void 0;const a=t(7),o=t(3),r=t(16),i=void 0,s=null,l=!1,c=!0,u=/((?:\w+ )+)\s+(\d+)%/g,d=o.concatRegexes(/-+\[(\w+)\]-+\n/,/(.|\n)+/,/Te quedan \d+ practicas.\n/,/Tienes \d+ entrenamientos.\n/);n.skillsPlugin=function({when:e,write:n}){let t=!1,o=!1,m=!1,p={};const h=r.singleExecution(()=>(n("practicar"),e(d)));return e(d,({captured:[e]})=>{t=!0;for(const n of e.matchAll(u))p[n[1].trim()]=parseInt(n[2],10);t=!0,console.log(p)},{captureLength:5e3}),{has:f,canLearn:async function(e){return await v(),e in p},castSpell:async function(t,r=""){const u=(Array.isArray(t)?t:[t]).map(a.getSpell).filter(Boolean),d=await f(u.map(e=>e.name));if(!d)return i;const p=u.find(e=>e.name===d);if(!p.success)throw new Error(`Unknown response for spell "${t}" (${p.name}).`);if(o||m)return s;o=!0,n(`conjurar "${p.name}" ${r}`);const h=[e(p.success).then(()=>c),e(a.SPELL_NOT_POSSIBLE).then(()=>i),e(a.SPELL_ALREADY_APPLIED).then(()=>1),e(a.SPELL_FAILED).wait(4).then(()=>l)];p.target&&h.push(e(p.target).then(()=>c));const g=await Promise.any(h);return o=!1,g},meditate:async function(){return await f("meditar")?o?s:m?t():(m=!0,n("meditar"),t().finally(()=>m=!1)):i;function t(){return Promise.any([e("Meditas con total paz interior, recolectando mana del cosmos.").then(()=>c),e("Te pasas varios minutos en profunda concentracion, pero fallas en el intento de recolectar mana.").then(()=>l)]).finally()}},NOT_AVAILABLE:i,BUSY:s,FAILED:l,CASTED:c,ALREADY_APPLIED:1};async function f(e){return await v(),"string"==typeof e?g(e)?e:null:e.find(g)||null}function g(e){return p[e]}function v(){if(!t)return h()}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.weaponList=n.spellList=n.skillList=n.languageList=void 0;const a=[{level:1,type:"Hechizo",name:"armadura",minPos:"luchando (evasivo)"},{level:1,type:"Hechizo",name:"causar leve",minPos:"luchando (defensivo)"},{level:1,type:"Habilidad",name:"carpinteria",minPos:"de pie"},{level:1,type:"Habilidad",name:"cocinar",minPos:"luchando (defensivo)"},{level:1,type:"Habilidad",name:"despellejar",minPos:"luchando (defensivo)"},{level:1,type:"Habilidad",name:"estilo estandar"},{level:1,type:"Habilidad",name:"estilo evasivo"},{level:1,type:"Habilidad",name:"forjar",minPos:"de pie"},{level:1,type:"Habilidad",name:"minar",minPos:"de pie"},{level:1,type:"Habilidad",name:"pescar",minPos:"de pie"},{level:1,type:"Habilidad",name:"talar",minPos:"de pie"},{level:1,type:"Habilidad",name:"tallar",minPos:"de pie"},{level:1,type:"Habilidad",name:"tejer",minPos:"de pie"},{level:1,type:"Arma",name:"armas cortas"},{level:1,type:"Arma",name:"armas flexibles"},{level:1,type:"Arma",name:"armas impacto"},{level:1,type:"Arma",name:"armas largas"},{level:1,type:"Arma",name:"garras"},{level:1,type:"Arma",name:"pugilismo"},{level:1,type:"Idioma",name:"comun"},{level:1,type:"Idioma",name:"elfico"},{level:1,type:"Idioma",name:"enano"},{level:1,type:"Idioma",name:"goblin"},{level:1,type:"Idioma",name:"ogro"},{level:1,type:"Idioma",name:"orco"},{level:1,type:"Idioma",name:"troll"},{level:2,type:"Hechizo",name:"crear agua",minPos:"luchando (evasivo)"},{level:2,type:"Hechizo",name:"curar leves",minPos:"luchando (defensivo)"},{level:2,type:"Hechizo",name:"luz eterna",minPos:"luchando (evasivo)"},{level:2,type:"Habilidad",name:"cartografia",minPos:"luchando (agresivo)"},{level:2,type:"Habilidad",name:"cavar",minPos:"de pie"},{level:3,type:"Hechizo",name:"crear comida",minPos:"luchando (evasivo)"},{level:3,type:"Hechizo",name:"detectar magia",minPos:"luchando (evasivo)"},{level:4,type:"Hechizo",name:"detectar invisible",minPos:"luchando (berserk)"},{level:4,type:"Hechizo",name:"fuego espectral",minPos:"luchando"},{level:4,type:"Habilidad",name:"montar",minPos:"de pie"},{level:5,type:"Hechizo",name:"bendecir",minPos:"luchando"},{level:5,type:"Hechizo",name:"causar grave",minPos:"luchando (agresivo)"},{level:5,type:"Hechizo",name:"ceguera",minPos:"luchando (berserk)"},{level:5,type:"Hechizo",name:"curar ceguera",minPos:"luchando"},{level:5,type:"Hechizo",name:"detectar maldad",minPos:"luchando (defensivo)"},{level:6,type:"Hechizo",name:"crear fuego",minPos:"luchando (evasivo)"},{level:6,type:"Hechizo",name:"flotar",minPos:"luchando"},{level:6,type:"Habilidad",name:"buscar",minPos:"de pie"},{level:6,type:"Habilidad",name:"escalar",minPos:"de pie"},{level:6,type:"Habilidad",name:"patada",minPos:"luchando (berserk)"},{level:6,type:"Habilidad",name:"primeros auxilios",minPos:"luchando (agresivo)"},{level:7,type:"Hechizo",name:"refrescar",minPos:"luchando"},{level:7,type:"Habilidad",name:"danyo incrementado",minPos:"luchando (berserk)"},{level:7,type:"Habilidad",name:"estilo agresivo"},{level:8,type:"Hechizo",name:"curar veneno",minPos:"luchando (defensivo)"},{level:8,type:"Hechizo",name:"detectar escondido",minPos:"de pie"},{level:8,type:"Hechizo",name:"detectar trampas",minPos:"de pie"},{level:8,type:"Hechizo",name:"terremoto",minPos:"luchando"},{level:9,type:"Hechizo",name:"causar critica",minPos:"luchando"},{level:9,type:"Hechizo",name:"conocer alineamiento",minPos:"luchando (defensivo)"},{level:9,type:"Hechizo",name:"misil magico",minPos:"luchando"},{level:9,type:"Hechizo",name:"volar",minPos:"luchando"},{level:10,type:"Hechizo",name:"crear baya",minPos:"ninguna"},{level:10,type:"Hechizo",name:"crear manantial",minPos:"luchando"},{level:10,type:"Hechizo",name:"curar graves",minPos:"luchando (defensivo)"},{level:10,type:"Hechizo",name:"invisibilidad",minPos:"de pie"},{level:10,type:"Hechizo",name:"invocar armadillo",minPos:"de pie"},{level:10,type:"Hechizo",name:"veneno",minPos:"luchando (evasivo)"},{level:11,type:"Hechizo",name:"niebla espectral",minPos:"de pie"},{level:11,type:"Hechizo",name:"proteccion",minPos:"luchando (evasivo)"},{level:12,type:"Hechizo",name:"curar criticas",minPos:"luchando"},{level:12,type:"Hechizo",name:"disipar maldad",minPos:"luchando (agresivo)"},{level:12,type:"Hechizo",name:"llamar rayo",minPos:"luchando"},{level:12,type:"Hechizo",name:"maldecir",minPos:"luchando (agresivo)"},{level:13,type:"Hechizo",name:"bola fuego",minPos:"luchando"},{level:13,type:"Hechizo",name:"control climatico",minPos:"de pie"},{level:13,type:"Hechizo",name:"detectar veneno",minPos:"de pie"},{level:13,type:"Hechizo",name:"identificar",minPos:"luchando (evasivo)"},{level:13,type:"Hechizo",name:"localizar objeto",minPos:"luchando (evasivo)"},{level:14,type:"Hechizo",name:"disipar magia",minPos:"luchando"},{level:14,type:"Hechizo",name:"piel robliza",minPos:"de pie"},{level:14,type:"Hechizo",name:"retirar invisibilidad",minPos:"de pie"},{level:14,type:"Hechizo",name:"saciar hambre",minPos:"luchando (evasivo)"},{level:15,type:"Hechizo",name:"debilitar",minPos:"luchando (agresivo)"},{level:15,type:"Hechizo",name:"relampago",minPos:"luchando (defensivo)"},{level:15,type:"Habilidad",name:"manotazo",minPos:"luchando"},{level:15,type:"Habilidad",name:"otear",minPos:"de pie"},{level:15,type:"Habilidad",name:"pisoton",minPos:"luchando (berserk)"},{level:15,type:"Habilidad",name:"segundo ataque",minPos:"luchando (berserk)"},{level:16,type:"Hechizo",name:"golpe flamigero",minPos:"luchando (defensivo)"},{level:16,type:"Habilidad",name:"meditar",minPos:"descansando"},{level:17,type:"Hechizo",name:"causar fatales",minPos:"luchando (agresivo)"},{level:17,type:"Hechizo",name:"retirar maldicion",minPos:"luchando (evasivo)"},{level:17,type:"Hechizo",name:"sonyar",minPos:"de pie"},{level:17,type:"Hechizo",name:"vista distancia",minPos:"luchando"},{level:17,type:"Habilidad",name:"estilo defensivo"},{level:17,type:"Habilidad",name:"sigilo",minPos:"de pie"},{level:18,type:"Hechizo",name:"agarron impactante",minPos:"luchando (berserk)"},{level:18,type:"Hechizo",name:"respiracion acuatica",minPos:"de pie"},{level:18,type:"Hechizo",name:"retirar trampa",minPos:"de pie"},{level:19,type:"Hechizo",name:"sanar",minPos:"luchando (agresivo)"},{level:20,type:"Hechizo",name:"fuerza vampirica",minPos:"luchando"},{level:20,type:"Hechizo",name:"invisibilidad grupo",minPos:"de pie"},{level:20,type:"Hechizo",name:"invocar lince",minPos:"de pie"},{level:20,type:"Hechizo",name:"invocar regreso",minPos:"descansando"},{level:20,type:"Hechizo",name:"polimorfar",minPos:"luchando (evasivo)"},{level:20,type:"Habilidad",name:"rescatar",minPos:"luchando (berserk)"},{level:21,type:"Habilidad",name:"desarmar",minPos:"luchando (agresivo)"},{level:22,type:"Hechizo",name:"rayo solar",minPos:"luchando (berserk)"},{level:24,type:"Hechizo",name:"atravesar puerta",minPos:"luchando (evasivo)"},{level:24,type:"Hechizo",name:"furia naturaleza",minPos:"ninguna"},{level:25,type:"Hechizo",name:"escudo hielo",minPos:"de pie"},{level:26,type:"Habilidad",name:"esquivar",minPos:"luchando (agresivo)"},{level:28,type:"Habilidad",name:"estilo berserk",minPos:"luchando (defensivo)"},{level:30,type:"Hechizo",name:"encantar arma",minPos:"de pie"},{level:30,type:"Hechizo",name:"invocar aguila",minPos:"de pie"},{level:30,type:"Hechizo",name:"santuario",minPos:"de pie"},{level:30,type:"Habilidad",name:"tercer ataque",minPos:"luchando (berserk)"},{level:31,type:"Hechizo",name:"viajar",minPos:"de pie"},{level:32,type:"Hechizo",name:"relentizar",minPos:"luchando"},{level:34,type:"Hechizo",name:"dormir",minPos:"de pie"},{level:35,type:"Hechizo",name:"atravesar vegetacion",minPos:"de pie"},{level:35,type:"Hechizo",name:"drenar energia",minPos:"luchando"},{level:35,type:"Hechizo",name:"escudo flamigero",minPos:"luchando (evasivo)"},{level:35,type:"Hechizo",name:"metal ardiente",minPos:"luchando"},{level:35,type:"Hechizo",name:"piel petrea",minPos:"luchando"},{level:35,type:"Habilidad",name:"rastrear",minPos:"de pie"},{level:40,type:"Hechizo",name:"escudo",minPos:"luchando"},{level:40,type:"Hechizo",name:"invocar lobo",minPos:"de pie"},{level:40,type:"Habilidad",name:"parada",minPos:"luchando (agresivo)"},{level:42,type:"Hechizo",name:"enredo vegetal",minPos:"ninguna"},{level:43,type:"Hechizo",name:"transporte arboreo",minPos:"ninguna"},{level:45,type:"Hechizo",name:"escudo electrico",minPos:"luchando (evasivo)"},{level:45,type:"Hechizo",name:"nube aturdidora",minPos:"de pie"},{level:45,type:"Habilidad",name:"cuarto ataque",minPos:"luchando (berserk)"},{level:45,type:"Habilidad",name:"esconderse",minPos:"de pie"},{level:48,type:"Hechizo",name:"vision verdadera",minPos:"de pie"},{level:50,type:"Hechizo",name:"invocar jaguar",minPos:"de pie"},{level:50,type:"Hechizo",name:"teleportar",minPos:"luchando (defensivo)"},{level:51,type:"Hechizo",name:"cantico",minPos:"luchando (evasivo)"},{level:51,type:"Habilidad",name:"punyo_helado",minPos:"luchando (agresivo)"},{level:52,type:"Hechizo",name:"crear arbol",minPos:"ninguna"},{level:52,type:"Hechizo",name:"destruir maldad",minPos:"luchando (defensivo)"},{level:52,type:"Habilidad",name:"punyo_electrico",minPos:"luchando (agresivo)"},{level:54,type:"Hechizo",name:"maremoto",minPos:"luchando"},{level:57,type:"Hechizo",name:"vara robliza",minPos:"ninguna"},{level:60,type:"Hechizo",name:"delirio caotico",minPos:"luchando"},{level:60,type:"Hechizo",name:"invocar oso",minPos:"de pie"},{level:60,type:"Hechizo",name:"rafaga viento",minPos:"luchando"},{level:62,type:"Hechizo",name:"relampago helado",minPos:"luchando (defensivo)"},{level:63,type:"Hechizo",name:"clonacion",minPos:"luchando (defensivo)"},{level:67,type:"Hechizo",name:"tormenta hielo",minPos:"luchando (berserk)"}];n.languageList=a.filter(e=>"Idioma"===e.type),n.skillList=a.filter(e=>"Habilidad"===e.type),n.spellList=a.filter(e=>"Hechizo"===e.type),n.weaponList=a.filter(e=>"Arma"===e.type)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.statsPlugin=void 0;const a=t(3),o=t(9),r=3e3,i=(()=>{const e=a.concatRegexes,n=e=>e.toLowerCase(),t=/(?:.|\n)+?/,r=/\-{78}/,i=/\s+/,s=/\s+\|\s+/,l=(...n)=>e(/\|\|\s*/,...n,/\s*\|\|\n/),c=t=>e(t,/\s+: /,o.int(n(t)),/\(/,o.int(n(t)+"Base"),/\)/),u=t=>e(t,/\s+: /,o.int(n(t)),/\s+\//,o.int(n(t)+"Base"),/\s+\(\s*/,o.int(n(t)+"Regen"),/%\) (?:Regen)?/);return e(r,/\n\/\s{78}\\\n/,l(/Ficha de (?<name>\w+)(?<principal> \(Personaje Principal\))\./),l(r),l(c("FUE"),i,c("DES"),s,u("Vida")),l(c("INT"),i,c("SAB"),s,u("Mana")),l(c("CON"),i,c("CAR"),s,u("Mov")),l(c("SUE"),i,s,i),/\|\|-{36}\+-{41}\|\|\n/,l(/Nivel\s+: /,o.int("level"),t),t,/ \|\|\n\\\s{78}\/\n  /,r)})();n.statsPlugin=function({when:e,write:n}){let t=!1;const a={name:0,principal:0,fue:0,fueBase:0,des:0,desBase:0,vida:0,vidaBase:0,vidaRegen:0,int:0,intBase:0,sab:0,sabBase:0,mana:0,manaBase:0,manaRegen:0,con:0,conBase:0,car:0,carBase:0,mov:0,movBase:0,movRegen:0,sue:0,sueBase:0,level:0};return e(i,({groups:e})=>{for(const n of Object.keys(a))a[n]=o.toInt(e[n]);console.log(a),t=!0},{captureLength:3e3}),{getLevel:async()=>(await async function(){t||(n("estado"),await e(i,{captureLength:r}))}(),a.level)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.login=void 0,n.login=async function({when:e,write:n,log:t},a,o,r){await e("Entra el nombre de tu personaje o escribe Nuevo:"),n(a),t("Username sent, waiting for password request"),await e("Password:"),n(o,{password:!0}),t("Logged in as "+a),await Promise.any([(async()=>{await e("Reconectando."),await r()})(),(async()=>{await e("Pulsa [ENTER]"),n(""),await e("Pulsa [ENTER]"),n(""),await e("Bienvenido a Balzhur...",r,{await:!0}).once()})()])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TriggerCollection=void 0;const a=t(38),o=t(17);n.TriggerCollection=class{constructor(){this.patterns=new Set,this.queue=[],this.isProcessing=!1}add(e,n,t){return 1===arguments.length?this.once(e):3===arguments.length?this.watch(e,n,t):"function"==typeof n?this.watch(e,n):this.once(e,n)}watch(e,n,t){const r=new a.PatternMatcher(e,e=>n(e),t);this.patterns.add(r);const i=()=>this.patterns.delete(r);return{unsubscribe:i,once:()=>new o.PatternPromise(e=>{const a=n;n=async n=>{i(),a&&(t&&t.await?await a(n):a(n)),e(n)}})}}once(e,n){return new o.PatternPromise(t=>{const a=this.add(e,(function(e){a.unsubscribe(),t(e)}),n)})}async process(e){if(this.isProcessing)return void this.queue.push(e);this.isProcessing=!0;const n=e.split("\n"),t=n.pop(),a=[...n.map(e=>e+"\n"),t];for(const e of a)for(const n of this.patterns)await n.process(e);return this.isProcessing=!1,this.queue.length?this.process(this.queue.pop()):void 0}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PatternMatcher=void 0;const a=t(39),o=t(40);n.PatternMatcher=class{constructor(e,n,t={}){this.handler=n,this.options=t,this.patterns=Array.isArray(e)?e:[e],this.length=t.captureLength||10*Math.max(...this.patterns.map(e=>String(e).length)),this.buffer=function(e){let n="";const t=()=>n="",o=t=>n=a.trimEnd(`${n}${t}`,e);return Object.assign(o,{clear:t})}(this.length)}process(e){const n=this.buffer(e),t=this.patterns.filter(e=>this.testPattern(n,e));if(!t.length)return;this.buffer.clear();const a=new o.PatternResult(t,n),r=this.handler(a);return this.options.await?r:null}testPattern(e,n){return"string"==typeof n?e.indexOf(n)>-1:n.test(e)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.trimEnd=void 0,n.trimEnd=function(e,n){return e.length>n?e.substr(e.length-n):e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PatternResult=void 0;function a(e){return e instanceof RegExp}function o(e,n){return{...e,...n}}n.PatternResult=class{constructor(e,n){this.patterns=e,this.haystack=n}get regexes(){return this.patterns.filter(a)}get stringPatterns(){return this.patterns.filter(e=>!a(e))}get fullMatch(){return this.stringPatterns[0]}get captured(){return this.regexes.map(e=>this.haystack.match(e)).filter(Boolean).map(e=>Array.from(e))[0]}get groups(){return this.regexes.map(e=>this.haystack.match(e)).filter(Boolean).map(e=>e.groups).filter(Boolean).reduce(o,{})}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Context=void 0;const a=t(19),o=t(20);class r extends a.PluginContext{constructor(e,n,t,a,i,s,l){var c,u;super(e,n,t,i),this.register=s,this.runWorkflow=l,this.finish=null,this.plugins=(c=a,u=this.log.bind(this),new Proxy(c,{get(e,n){if(!(n in e))throw u("Failed to get plugin "+n),new Error(`Plugin ${n} is not registered.`);return u("Requires plugin "+n),e[n]}})),o.bindAll(this,r)}run(e,n=[]){this.checkNotAborted(),this.log(`Invoke workflow "${e}" with`,...n);const t=this.runWorkflow(e,n,{logs:this.isPrintingLogs});return t.then(n=>this.log(`Invocation "${e}" returned `,n),n=>this.log(`Invocation "${e}" failed `,n)),t}runForever(){return this.checkNotAborted(),new Promise(e=>this.finish=e)}abort(){super.abort(),this.finish&&this.finish(new Error("Workflow aborted"))}}n.Context=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Workflow=void 0;n.Workflow=class{constructor(e,n){this.name=e,this.run=n,this.executionCount=0,this.currentExecutions=0}get isRunning(){return this.currentExecutions>0}get timesExecuted(){return this.executionCount}async execute(e,...n){this.currentExecutions++;const t=this.executionCount++;e.log(`[Exe(${t})]`,...n);try{const a=await this.run(e,...n);return e.log(`[Res(${t})]`,a),a}catch(n){throw e.log(`[ERR(${t})]`,n),n}finally{this.currentExecutions--}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RemoteTelnet=void 0;const a=t(4);n.RemoteTelnet=class{constructor(e){this.socket=e,this._isConnected=!1,this.emitClose=a.emitter(),this.onClose=this.emitClose.subscribe,this.emitData=a.emitter(),this.onData=this.emitData.subscribe,e.addEventListener("close",this.emitClose),e.addEventListener("message",this.onMessage.bind(this)),this.onData(()=>this._isConnected=!0),this.onClose(()=>this._isConnected=!1)}get isConnected(){return this._isConnected}connect(e,n){this.proxy("OPEN",{host:e,port:n})}send(e){this.proxy("INPUT",e)}close(){this.socket.close()}proxy(e,n){this.socket.send(JSON.stringify({type:e,payload:n}))}async onMessage(e){const n=(await e.data.text()).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");this.emitData(n)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.registerWorkflows=void 0;const a=t(45),o=t(46),r=t(48),i=t(49),s=t(50),l=t(51),c=t(52),u=t(53),d=t(54),m=t(55),p=t(56),h=t(57),f=t(59),g=t(60),v=t(61),b=t(62);n.registerWorkflows=function(e){e.workflow("afk",u.afk),e.workflow("bank",d.bank),e.workflow("cast",m.cast),e.workflow("donations",p.donations),e.workflow("kill",f.kill),e.workflow("go",h.go),e.workflow("recover",g.recover),e.workflow("train",v.train),e.workflow("wear",b.wear),e.daemon("defend",a.defend),e.daemon("dope",o.dope),e.daemon("drink",r.drink),e.daemon("eat",i.eat),e.daemon("idle",s.idle),e.daemon("repair",l.repair),e.daemon("rest",c.rest)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defend=void 0;const a=t(21),o=t(7);n.defend=async function({log:e,when:n,write:t,plugins:{prompt:r,skills:i,navigation:s}}){n("Estas demasiado exhausto para huir del combate!",()=>s.recall()),n(/El \w+ de (?:el|la|un|una) ((?: |\w)+) te /,async({captured:n})=>{const l=r.getPercent("hp");if(l<.1)await s.recall();else if(r.getPercent("mv")<.1||l<.3)t("huir");else if(r.getPercent("mana")>.1){const e=n[1],t=a.getMobIn(e);await i.castSpell(o.SPELLS_BY_TYPE.attack,t?t.name:e)}else e("Nothing")}),n(".. Todo empieza a volverse negro.\n",async()=>{const e="Tu cuerpo aparece de repente, rodeado por una divina presencia...";let a=0;const o=n(e,()=>a++);for(await t("suplicar cuerpo"),await n(e).timeout(5),o.unsubscribe(),n("El cadaver de May pasa a convertirse en polvo",()=>a--);a;)t("coger todo may"),await r.until(),t("vestir todo"),await r.until(),await r.until()}),n(/El cadaver de.* contiene:(?<items>(?:.\n)+)\n\n/,({groups:e})=>{e.items.toLowerCase().split(/\n/).map(e=>e.trim()).some(e=>e.includes("llave"))&&t("coger llave cuerpo")})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dope=void 0;const a=t(5),o=t(7),r=t(47),i=new a.ClientStorage("dope:casting");n.dope=async function({when:e,write:n,register:t,run:a,plugins:{prompt:s,skills:l}}){const c=h(.2),u=h(.1,.8),d=(e,...n)=>a("cast",[e,...n]).catch(()=>null),m=new Set(i.get()),p=o.getSpells();function h(e,n=1){const t=1/(n-e);return(a,o)=>{if(0===a||o>n)return!1;if(o<e)return!0;const r=(o-e)*t;return Math.hypot(a,1-r)>1}}p.filter(e=>e.endEffect).forEach((async function(t){const a=Array.isArray(t.dope)?t.dope:t.name;e(t.endEffect,async()=>{m.add(a),i.set([...m]);if(await d(a)){m.delete(a),i.set([...m]);const e=t.afterDope;Array.isArray(e)?e.forEach(e=>n(e)):e&&n(e)}})})),s.onUpdate(async({isFighting:e,mana:{percent:n},hp:{percent:t},mv:{percent:a}})=>{if(e)return;const r=await l.has("meditar");return n<.1&&!r?void 0:n<.7&&r?l.meditate():t>0&&c(n,t)?l.castSpell(o.SPELLS_BY_TYPE.heal):t>0&&u(n,a)?l.castSpell("refrescar"):void 0}),t("dope",async(e,n)=>{const t=p.filter(e=>e.dope&&(!n||e.target)).map(e=>Array.isArray(e.dope)?e.dope.join("|"):e.name);for(const e of r.uniq(t))await d(e.split("|"),n)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uniq=void 0,n.uniq=function(e){return[...new Set(e)]}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.drink=void 0,n.drink=async function({run:e,when:n,write:t,plugins:{inventory:a,navigation:o,skills:r}}){let i=!1,s=!1;async function l(){return a.has({"un odre de cuero":"odre","una cantimplora":"cantimplora"})}o.onRoomChange(()=>i=!1),n(["Un manantial magico esta aqui.","Una hermosa fuente de marmol blanco esta aqui.","Trazas un circulo delante tuyo del cual emerge un manantial de agua cristalina."],async()=>{if(i=!0,!s){const e=await l();e&&(t("llenar "+e),s=!0)}}),n(["Te apetece dar un sorbo a algo refrescante.","Tienes sed.","Estas realmente sediento.","Estas MUERTO de SED!","Estas en peligro de deshidratacion."],async()=>{if(i||await async function(){if(await r.has("crear manantial"))return e("cast",["crear manantial"])}())return void t("beber");const n=await l();n?(t("beber "+n),await r.castSpell("crear agua",n)):console.log("No hay fuente de agua")})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.eat=void 0,n.eat=async function({run:e,when:n,write:t,plugins:{inventory:a,navigation:o,skills:r}}){async function i(){const o=await async function(){return await s(),await a.has({"un chorizo":"chorizo","pavo cocinado":"pavo","una chuleta de cordero":"chuleta","loncha de salami":"salami","pierna de cordero":"pierna","ricas longanizas":"longanizas","un extranyo hongo":"hongo"})}();return o?(t("comer "+o),a.refresh(),!0):await async function(){if(!await r.has("crear comida")||!await e("cast",["crear comida"]))return!1;t("coger seta");try{return await n("Coges una seta magica.").timeout(3),t("comer seta"),!0}catch(e){return!1}}()}async function s(){if(await a.has("una bolsa")){t("coger todo bolsa"),t("examinar bolsa");const{captured:e}=await n(/Una bolsa contiene:\n\s+(Nada)?/);e[1]&&t("tirar bolsa")}}n(["Tienes hambre.","Estas realmente hambriento."],i),n(["Estas terriblemente hambriento.","Estas HAMBRIENTO!"],async()=>{await i()||o.isAtRecall&&(await async function(){await o.execute("2sen"),t("comprar 1 chuleta"),await Promise.any([n("Compras una chuleta de cordero."),n("El carnicero pone todo en una bolsa y te la da.").then(s)]),await o.execute("sw2n")}(),await i())})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.idle=void 0,n.idle=async function({when:e,write:n,run:t,plugins:{navigation:a,skills:o}}){e("Desapareces en la nada.",async()=>{console.log("IDLE"),a.isAtRecall?(await t("train"),o.has("invisibilidad")&&await t("cast",["invisibilidad"])):n("estado")})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.repair=void 0;const a=t(10),o=t(6);n.repair=async function({when:e,write:n,register:t,plugins:{navigation:r,prompt:i}}){async function s(t){for(const o of t)n("guardar "+o),await e(a.UNWEAR);return await c(),r.execute("nw2n")}async function l(){const t=[];n("equipo");const o=e(/>\s+\[\+*[^+]+\] (?<item>.*)/,({groups:e})=>{const n=a.getItemSustantive(e.item);n&&t.push(n)});return await e("Estas usando:"),await i.until(),o.unsubscribe(),t.length?t:null}async function c(){n("reparar todo"),await Promise.any([e("El herrero te cobra").then(()=>!0),e("El herrero te cuenta").then(()=>!1),o.wait(5).then(()=>null)]),n("vestir todo")}t("repair",async()=>{const e=await l();if(e)return await r.execute("r2ses"),s(e)}),e("No puedes vestir eso, necesita repararse.",async()=>{await r.execute("r2ses"),await c();const e=await l();if(e)return s(e)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rest=void 0,n.rest=async function({when:e,write:n}){e(["Nah... Estas demasiado relajado...","En tus suenyos o que?","Estas demasiado relajado para lanzar ese conjuro."],()=>n("despertar"))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.afk=void 0,n.afk=async function({abort:e,printLogs:n,run:t,when:a,plugins:{navigation:o}},...r){a(".. Todo empieza a volverse negro.\n",e),await async function e(){try{await t("recover"),await t("repair"),await t("dope"),await t("recover")}catch(e){console.log("Preparation error",e)}console.log("Stats 100%. Start train...");try{await t("train",[(n=r||[],n[Math.floor(Math.random()*n.length)])]),console.log("workflow completed")}catch(e){console.log("workflow failed")}var n;try{o.isAtRecall&&await t("bank")}catch(e){console.log("Bank error",e)}return e()}()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bank=void 0;const a=t(3),o=t(9);n.bank=async function({when:e,write:n,plugins:{navigation:t}},r){const i=a.concatRegexes(/Ingresas /,o.int(),/ monedas? de oro en tu cuenta bancaria./),s=a.concatRegexes(/Retiras /,o.int(),/ monedas? de oro de tu cuenta bancaria./);await t.execute("r4s2en"),n("banco saldo");const{groups:l}=await e(a.concatRegexes(/Estas llevando /,o.int("carring"),/ monedas de oro.\n/,/Tienes /,o.int("balance"),/ monedas de oro en el banco.\n/,/Lo que hace un total de /,o.int("total"),/ monedas de oro.\n/)),c=o.toInt(l.carring),u=(o.toInt(l.balance),o.toInt(l.total)),d=null==r?Math.ceil(.01*u):r;c<d?(n("banco retirar "+(d-c)),await e(s)):c>d&&(n("banco ingresar "+(c-d)),await e(i)),await t.execute("s2w4n")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cast=void 0;const a=t(6);n.cast=async function({plugins:{prompt:e,skills:n}},t,...o){const r=await async function r(){e.isFighting&&await e.until(e=>!e.isFighting);switch(await n.castSpell(t,o.join(" "))){case n.CASTED:case n.ALREADY_APPLIED:return!0;case n.NOT_AVAILABLE:return!1;case n.BUSY:await a.wait(3);case n.FAILED:return r()}throw new Error("WTF DUDE")}();if(!1===r)throw console.warn(`Unable to cast "${t}"`);return r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.donations=void 0;const a=t(10),o=[{from:31,to:40,path:"4wn"},{from:21,to:30,path:"3wn"},{from:11,to:20,path:"2wn"},{from:1,to:10,path:"wn"},{from:41,to:50,path:"en"},{from:51,to:60,path:"2en"},{from:61,to:70,path:"3en"},{from:71,to:80,path:"4en"}];n.donations=async function({when:e,write:n,run:t,plugins:{navigation:r,stats:i}}){n("estado");const s=await i.getLevel(),l=o.find(e=>e.from<=s&&e.to<=s);if(!l)throw new Error(`No room for level "${s}"`);await r.execute("rh2w4n");const c=e(/Salidas: sur\.\n\n((?:.|\n)*)\n\n/,{captureLength:Number.MAX_VALUE});await r.execute(l.path);const{captured:u}=await c,d=u[1].split("\n").map(e=>e.trim());for(const e of Object.values(a.ITEM_SUSTANTIVES)){d.some(n=>n.includes(e)&&!n.includes("mallas"))&&await t("wear",[e])}await r.recall()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.go=void 0;const a=t(22),o=/^r?((?:x|\d+)?nsewudohjkl)+$/;n.go=function({plugins:{navigation:e}},n){const t=o.test(n)?null:a.getAreaMetadata(n);return t&&t.path&&(n=t.path,console.log("Going "+t.name)),e.execute(n)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={Calimhar:[{name:"Academia de Darkhaven",from:1,to:5,min:0,max:95},{name:"Bosque de las Hadas",from:1,to:5,min:0,max:95},{name:"Catacumbas de la Capilla",from:15,to:25,min:0,max:95},{name:"Cementerio Oscuro",clan:"Legends",from:5,to:15,min:0,max:95},{name:"Ciudad Imperial",from:0,to:95,min:0,max:95},{name:"DarkHaven",from:0,to:95,min:0,max:95},{name:"El Campamento Goblin",from:1,to:10,min:0,max:95},{name:"El Cementerio",from:5,to:10,min:0,max:95},{name:"El Centinela",from:5,to:10,min:0,max:95},{name:"El Gran Estadio",from:10,to:20,min:0,max:95},{name:"El Imperio Orco",clan:"Legends",from:10,to:20,min:0,max:95},{name:"El Jardin de los Heroes",from:75,to:80,min:0,max:95},{name:"El Pantano Orco",clan:"DarkAngels",from:5,to:30,min:0,max:95},{name:"El Refugio Destruido",from:5,to:20,min:0,max:95},{name:"Exportaciones de Dragones",clan:"Legends",from:5,to:25,min:0,max:95},{name:"Foire de Reves",from:0,to:50,min:0,max:95},{name:"Galeria de arte",from:10,to:50,min:0,max:95},{name:"Guarderia Enana",from:1,to:5,min:0,max:95},{name:"Haon Dor",from:5,to:10,min:0,max:95},{name:"Holy Grove",from:5,to:20,min:0,max:95},{name:"Kharadest, Baluarte de Platino",from:78,to:80,min:77,max:95},{name:"La Fortaleza de Valor",clan:"DragonSlayers",from:5,to:30,min:0,max:95},{name:"La Mansion de Marmol",from:5,to:15,min:0,max:95},{name:"La Mansion de Tullfuhrzky",from:1,to:10,min:0,max:95},{name:"La Torre del Brujo",clan:"Legends",from:10,to:20,min:0,max:95},{name:"Las Alcantarillas",from:5,to:20,min:0,max:95},{name:"Las Llanuras del Norte",from:1,to:20,min:0,max:95},{name:"Miden'nir",from:5,to:15,min:0,max:95},{name:"Residencias de Mortales",from:0,to:95,min:0,max:95},{name:"Sindaliore",clan:"Legends",from:75,to:80,min:77,max:95}],Earand:[{name:"Armageddon",clan:"Conclave",from:50,to:80,min:0,max:95},{name:"Asgard",clan:"El Santuario",from:40,to:60,min:0,max:95},{name:"Asoinwan, ciudad de las hadas",clan:"DragonSlayers",from:5,to:30,min:0,max:95},{name:"Camelot",from:65,to:80,min:50,max:95},{name:"Dregoria",clan:"Cantico",from:40,to:65,min:0,max:95},{name:"El Calabozo de la Muerte",from:10,to:35,min:0,max:95},{name:"El Campo de Batalla Desolado",from:15,to:25,min:0,max:95},{name:"El Plano Astral",clan:"DarkAngels",from:15,to:35,min:0,max:95},{name:"El Pueblo Fantasma",clan:"DragonSlayers",from:35,to:50,min:0,max:95},{name:"El Reino de Yggdrasil",from:15,to:50,min:0,max:95},{name:"El Yunque del Sol",clan:"Legends",from:60,to:80,min:0,max:95},{name:"Estroglia, corazn del Yunque",clan:"DarkAngels",from:75,to:80,min:75,max:95},{name:"Ghotiamir",from:0,to:95,min:0,max:95},{name:"La Ciudad de Velas",from:45,to:55,min:0,max:95},{name:"La Fortaleza de Lord Krothgar",from:35,to:60,min:0,max:95},{name:"La Fortaleza Enana",clan:"El Santuario",from:35,to:65,min:0,max:95},{name:"La Guarida de Kotegaesi",from:30,to:45,min:0,max:95},{name:"La tumba de Damara",clan:"Shinsent",from:15,to:25,min:0,max:95},{name:"Las Ruinas de los Antiguos",from:78,to:80,min:77,max:95},{name:"Observatorio del Ojo Celeste",clan:"Cantico",from:25,to:65,min:0,max:95},{name:"Valle de Rivendel",from:60,to:80,min:0,max:95},{name:"Villa Enana",from:10,to:35,min:0,max:95}],Niruk:[{name:"La casa de Anarion",from:75,to:80,min:75,max:95},{name:"Las Tierras Desoladas",clan:"DarkAngels",from:10,to:80,min:0,max:95},{name:"Residencia de Inmortales",from:81,to:95,min:0,max:95},{name:"Tiempo de L'Hopital",from:75,to:80,min:75,max:95}],Valmorag:[{name:"Bosque de los Muertos",from:20,to:40,min:0,max:95},{name:"Dhusebark",from:0,to:95,min:0,max:95},{name:"El Devorador de Mundos",from:30,to:50,min:0,max:95},{name:"El Legado de Xchantharus",clan:"El Santuario",from:30,to:50,min:0,max:95},{name:"El Mausoleo del Minotauro",from:40,to:65,min:0,max:95},{name:"Guarida de Gigantes de Fuego",from:40,to:50,min:0,max:95},{name:"Infierno",from:30,to:80,min:0,max:95},{name:"La Ciudad Maldita",clan:"Sindicato",from:40,to:80,min:0,max:95},{name:"La Fortaleza de Lilith",clan:"Torre Arcana",from:65,to:80,min:55,max:95},{name:"La Fortaleza de Mahn-Tor",from:5,to:35,min:0,max:95},{name:"La Gran Torre de la Hechiceria",from:10,to:30,min:0,max:95},{name:"La Maldicion del Nigromante",clan:"Cantico",from:30,to:55,min:0,max:95},{name:"La Residencia de Redferne",from:20,to:30,min:0,max:95},{name:"Los Pozos de la Reina Aranya",from:40,to:55,min:0,max:95},{name:"Los Usurpadores de Hochenyana",clan:"Shinsent",from:20,to:35,min:0,max:95},{name:"Profundidades Umbrias",from:20,to:50,min:0,max:95},{name:"Puerto Libre",from:10,to:55,min:0,max:95},{name:"Valle de Morgul",clan:"Shinsent",from:30,to:55,min:0,max:95}]}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.kill=void 0;const a=t(7),o=t(3);n.kill=async function({when:e,write:n,plugins:{navigation:t,skills:r}},i){const s=[...a.SPELLS_BY_TYPE.dedope,...a.SPELLS_BY_TYPE.attack];await async function(e,n,t,a){for(let o=0;o<e;o++){const e=await n();if(t(e))return!0;if(a(e))return!1}return!1}(3,async()=>r.castSpell(s,i),e=>e===r.CASTED||e===r.ALREADY_APPLIED,e=>e===r.NOT_AVAILABLE)||n("matar "+i);const l=await Promise.any([t.waitForRecall().then(()=>"flee"),e(o.concatRegexes(i,/(?:\w|| )* ha MUERTO!!/)).then(()=>"win"),e("No esta aqui.").timeout(3).then(()=>"missing"),e(["Huyes como un cobarde del combate.","Estas demasiado malherido para hacer eso.","Estas demasiado aturdido para hacer eso."]).then(()=>"flee")]);return"win"===l&&(n("sacrificar cuerpo"),await e("te da una moneda de oro por tu sacrificio.")),l}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.recover=void 0;const a=t(6),o=t(7);n.recover=async function({run:e,plugins:{skills:n,prompt:t}}){const r=o.SPELLS_BY_TYPE.heal,i="refrescar",s="invisibilidad",l=await n.has(r),c=await n.has(i),u=await n.has("meditar"),d=(await n.has(s),()=>t.getPercent("mana")),m=()=>t.getPercent("hp")<1,p=()=>d()<.8,h=()=>t.getPercent("mv")<1,f=()=>u?d()>.5:d()>.1;for(;l&&m()||u&&p()||c&&h();){for(t.isInvisible||await e("cast",[s]);l&&m()&&f();)await e("cast",[r]);for(;c&&h()&&f();)await e("cast",[i]);for(;u&&p();){await n.meditate()===n.BUSY&&await a.wait(2)}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.train=void 0;const a=t(22),o=t(21);n.train=async function({log:e,run:n,when:t,write:r,plugins:{navigation:i,prompt:s,stats:l}},c){const u=await async function(e){const n=e?a.getAreaMetadata(e):await async function(){const e=await l.getLevel(),n=a.getAreasForLevel(e),[t,...o]=n.filter(e=>e.arena);o.length&&console.warn("Multiple arenas available");return t}();if(!n)throw new Error(`NO AREA "${e}"`);if(!n.arena)throw new Error(`"${n.name}" is unknown`);const t=n.path.split(""),o=t.pop(),r=Array.isArray(n.arena)?n.arena.join(""):n.arena;return{path:t.join(""),arena:`${o}${r}`}}(c),d=[];t(o.getMobsPresence(),({patterns:e,fullMatch:n,captured:t})=>p(o.getMobFromPresence(e)||o.getMobIn(n||t[0]))),t(o.MOB_ARRIVES,({groups:e})=>p(o.getMobIn(e.mob))),t(o.MOB_LEAVES,e=>{const{mob:n}=e.groups;n?function(e=null){if(e){const n=d.indexOf(e);n>-1&&d.splice(n,1)}}(o.getMobIn(e.groups.mob)):console.warn("No MOB detected in",e.captured)});const m=`${u.path}${u.arena}`;return r("visible"),await i.execute(m,(async function(){e("ENTER_ROOM"),await s.until(({mv:{current:e}})=>e>50),e("READY");for(;d.length;){if(await h())return!1;e("WAITING_READY_TO_FIGHT");const a=n("recover");await Promise.any([a,t(o.MOB_ARRIVES).then(()=>a.abort())]),e("READY_TO_FIGHT!!!")}e("LEAVE_ROOM")})),i.recall();function p(e=null){e&&d.push(e)}async function h(){for(e("CHECK_ENEMIES",d.length);d.length;){const t=await n("kill",[d.pop().name]);if("flee"===t)return console.log("Had to run. Train over."),await i.recall(),!0;e("Fight result: "+t)}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wear=void 0;const a=t(10),o=t(3);n.wear=async function({run:e,when:n,write:t},...r){const i=r.length?r:a.ITEM_SUSTANTIVES;for(const e of i)for(let n=0;n<5&&!await s(e);n++);async function s(r){t(`coger "${r}"`);if(!await Promise.any([n(`No hay ningun ${r} aqui.`).wait(8).then(()=>!1),n(o.concatRegexes(/Coges/,a.ITEM_ARTICLE,/(?: (?:\\w|)+)* /i,r)).then(()=>!0)]))throw new Error(`Couldn't pick up "${r}"`);let i=!1;const s=n(" es un(a) armadura_metalica,",()=>i=!0),c=await e("cast",["identificar",r]);if(s.unsubscribe(),!c)throw new Error(`Couldn't identifiy "${r}"`);if(i)return await l(r),!1;t(`vestir "${r}"`);const u=await Promise.any([n(a.WEAR).then(()=>!0),n(a.UNWEAR).then(({groups:e})=>e.item),n([/Debes ser nivel \w+ para usar este objeto./,"No puedes vestir eso, necesita repararse."]).then(()=>!1)]);if(!1===u)return await l(r),!1;if("string"==typeof u){const o=a.getItemSustantive(u);o&&(await e("cast",["identificar",o]),t(`poner ${o} mochila`),await n("Pones "))}return!0}function l(e){return t(`tirar "${e}"`),n("Tiras ")}}},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.renderUserInterface=void 0;const o=t(5);t(64);const r=t(65),i=t(68),s=a(t(71)),l=t(8),c=t(72),u=t(75);n.renderUserInterface=function(e){const n=function(){const e=new o.ClientStorage("ui:state");e.get()||e.set({showControls:!1});return e}(),t=n.get(),a=l.render(s.default),d=a.$(".container"),m=new c.Sidebar;m.render(d);const p=new r.Controls;p.render(d);const h=new u.Terminal;h.render(d),e.appendChild(a);const f=new i.Hamburger(t.showControls);return f.render(e),f.onChange(e=>{e?(d.classList.add("show-controls"),t.showControls=!0):(d.classList.remove("show-controls"),t.showControls=!1),n.set(t)}),{controls:p,sidebar:m,terminal:h}}},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(11),i={insert:"head",singleton:!1};o()(r.a,i);n.default=r.a.locals||{}},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Controls=void 0,t(66);const o=t(8),r=a(t(67));n.Controls=class{constructor(){this.dom=o.render(r.default),this.meterTpl=this.dom.$(".meter-template"),this.buttonTpl=this.dom.$(".button-template")}render(e){e.appendChild(this.dom)}addMeter(e,n){const t=o.render(this.meterTpl,{".meter":t=>{t.style.setProperty("--color",e),t.style.setProperty("--value","100%"),n(e=>{const n=Math.round(100*e);t.style.setProperty("--value",n+"%")})}});this.dom.appendChild(t)}addButton(e,n){const t=o.render(this.buttonTpl,{button:t=>{t.textContent=e,t.addEventListener("click",n)}});this.dom.appendChild(t)}}},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(12),i={insert:"head",singleton:!1};o()(r.a,i);n.default=r.a.locals||{}},function(e,n){e.exports='<header class="controls"></header> <template class="meter-template"> <div class="meter" data-color="white" data-value="100%"> <div class="bar"></div> </div> </template> <template class="button-template"> <button class="ui-button"></button> </template> '},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Hamburger=void 0,t(69);const o=t(4),r=t(8),i=a(t(70));n.Hamburger=class{constructor(e=!1){this.dom=r.render(i.default),this.checkbox=this.dom.$("input"),this.emitChange=o.emitter(),this.onChange=this.emitChange.subscribe,this.toggle=this.toggle.bind(this),this.checkbox.checked=e}render(e){this.checkbox.addEventListener("change",this.toggle),e.appendChild(this.dom),this.checkbox.checked&&this.toggle()}toggle(){this.emitChange(this.checkbox.checked)}}},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),i={insert:"head",singleton:!1};o()(r.a,i);n.default=r.a.locals||{}},function(e,n){e.exports='<div class="hamburger"> <input type="checkbox"/> <span></span> <span></span> <span></span> </div> '},function(e,n){e.exports='<div class="container"></div> '},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Sidebar=void 0,t(73);const o=t(8),r=a(t(74));n.Sidebar=class{constructor(){this.dom=o.render(r.default)}render(e){e.appendChild(this.dom)}}},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),i={insert:"head",singleton:!1};o()(r.a,i);n.default=r.a.locals||{}},function(e,n){e.exports='<aside class="sidebar"></aside> '},function(e,n,t){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const o=t(5);t(76);const r=a(t(77)),i=t(4),s=t(8),l=a(t(84)),c=new r.default,u=new o.ClientStorage("mud:command-history");function d(e){const n=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/  +/g,e=>"&nbsp;".repeat(e.length));return c.toHtml(n).replace(/\n/g,"<br>")}function m(){const e=getSelection();return e&&"Range"===e.type}n.Terminal=class{constructor(){this.dom=s.render(l.default),this.$log=this.dom.$(".log"),this.$input=this.dom.$("input"),this.log=[],this.history=u.get()||[],this.histPos=0,this.emitSubmit=i.emitter(),this.onSubmit=this.emitSubmit.subscribe,this.onKey=this.onKey.bind(this)}focus(){this.$input.focus()}render(e){this.dom.$(".terminal").addEventListener("click",()=>{m()||this.$input.focus()}),this.$input.addEventListener("keydown",this.onKey),e.appendChild(this.dom)}write(e){const n=this.$log.parentElement,t=`${this.log.length?this.log.pop():""}${a=e,a.replace(/\r/g,"")}`.split(/\n\n+/);var a;const o=t.pop();for(const e of t){this.log.push(e);const t=document.createElement("p");t.innerHTML=d(e),n.insertBefore(t,this.$log)}this.log.push(o),this.$log.innerHTML=d(o),m()||(n.scrollTop=n.scrollHeight)}onKey(e){"Enter"===e.code&&this.submit(),"ArrowUp"===e.code&&this.loadHistory(1),"ArrowDown"===e.code&&this.loadHistory(-1),this.$input.size=this.$input.value.length+1}submit(){const{value:e}=this.$input;this.$input.value="",this.histPos=0,e&&(this.history.shift(),this.history.unshift(e),this.history.unshift(""),u.set(this.history));for(const n of e.split(/;/))this.emitSubmit(n)}loadHistory(e){var n,t,a;this.history.length&&(this.history[this.histPos]=this.$input.value,this.histPos=(n=this.histPos+e,t=0,a=this.history.length-1,n<t?t:n>a?a:n),this.$input.value=this.history[this.histPos])}}},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(15),i={insert:"head",singleton:!1};o()(r.a,i);n.default=r.a.locals||{}},,,,,,,,function(e,n){e.exports='<main class="terminal"> <span class="log"></span> <input type="text" size="1" autofocus> </main>'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPassword=void 0;const a=t(5);n.getPassword=function(e){const n=new a.ClientStorage("pass:"+e),t=n.get();if(t)return t;const o=prompt("Password for "+e);if(!o)throw new Error("Password required");return n.set(o),o}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getQueryParams=void 0,n.getQueryParams=function(){const e={};return window.location.search.substr(1).split("&").map(e=>e.split("=").map(decodeURIComponent)).forEach(([n,t])=>e[n]=t),e}},function(e){e.exports=JSON.parse('{"DEFAULT_PORT":53472}')}]);
//# sourceMappingURL=main.js.map